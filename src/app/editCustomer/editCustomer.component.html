<div id="blueList">
    <p id="blueListHeader">Redigera {{customer.customerName}}</p>
</div>

<div id="newCustomerForm">
  <form>

    <div id="leftColumn">
    <!-- LeftColumn -->  
    <!-- CustomerName  -->
    
    <mat-form-field class="form-group">
    <input 
     matInput placeholder="{{customer.customerName}}"

     required
     minlength="3" 
     ngModel
     name="CustomerName" 
     #CustomerName="ngModel" 
     (change)="getCustomerName(CustomerName)" 
     id="CustomerNames"
     type="text" 
     class="form-control">
     <mat-error *ngIf="CustomerName.touched && !CustomerName.valid ">
      Fyll i kundnamn
     <mat-error *ngIf="CustomerName.errors.minlength && !CustomerName.valid">
        Ska bestå av minst {{ CustomerName.errors.minlength.requiredLength }} tecken
      </mat-error>

    </mat-error>

  </mat-form-field>

  
  



  <!-- CustomerID -->
  <mat-form-field class="form-group">
      <input 
      matInput 
      placeholder="{{customer.customerID}}"

      required
       minvalue="0"
       minlength="2" 
       maxlength="3" 
       ngModel 
       name="customerID" 
       #customerID="ngModel" 
       (change)="getCustomerId(customerID)" 
       id="customerID" 
       type="text" 
       class="form-control">
      <mat-error *ngIf="customerID.touched && !customerID.valid">
        Fyll i KundID, 2 eller 3 siffror
      </mat-error>
   
  </mat-form-field>
  
  <br>  

    <!-- SECTIONS -->
    <mat-radio-group class="sectionGroup">
      <mat-radio-button class="sectionButton" *ngFor="let section of sections" [value]="section" (change)="getSection($event)">
      <label id="{{section}}" >
       {{section}}
      </label>
      </mat-radio-button>
    </mat-radio-group>
    <p id="currentSection">Tidigare vald avdelning: {{customer.section}}</p>
  </div>



  <!-- MiddleColumn -->  


  <!-- Contacts -->
<div id="middleColumn">
        <!-- FirstName -->
        <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder="Förnamn"

         required
         minvalue="0" 
         minlength="2" 
         maxlength="20" 
         ngModel 
         name="contactFirstName" 
         #contactFirstName="ngModel" 
         (change)="getFirstname(contactFirstName)" 
         id="contactFirstName" 
         type="text" 
         class="form-control">
        <mat-error
         *ngIf="contactFirstName.touched && !contactFirstName.valid">
         Fyll i förnamn
        <mat-error
         *ngIf="contactFirstName.errors.minlength">
         Förnamn ska innehålla minst {{ contactFirstName.errors.minlength.requiredLength }} bokstäver
        </mat-error>
      </mat-error>

    </mat-form-field>

        
            <!-- LastName -->
            <mat-form-field class="form-group">
                <input 
                matInput 
                placeholder="Efternamn"
        
                 required
                 minvalue="0" 
                 minlength="2" 
                 maxlength="20" 
                 ngModel 
                 name="contactLastName" 
                 #contactLastName="ngModel" 
                 (change)="getLastname(contactLastName)" 
                 id="contactLastName" 
                 type="text" 
                 class="form-control">
                <mat-error
                 *ngIf="contactLastName.touched && !contactLastName.valid">
                 Fyll i Efternamn
                <mat-error
                 *ngIf="contactLastName.errors.minlength">
                 Efternamn ska innehålla minst {{ contactLastName.errors.minlength.requiredLength }} bokstäver
                </mat-error>
              </mat-error>
            </mat-form-field>
        
            <!-- Phone -->
            <mat-form-field class="form-group">
                <input 
                matInput 
                placeholder="Telefon"
        
                 required
                 minvalue="0" 
                 minlength="7" 
                 maxlength="12" 
                 ngModel 
                 name="phone" 
                 #phone="ngModel" 
                 (change)="getPhone(phone)" 
                 id="phone" 
                 type="text" 
                 class="form-control">
                <mat-error
                 *ngIf="phone.touched && !phone.valid">
                <mat-error
                 *ngIf="phone.errors.minlength">
                 Telefonnumret ska innehålla minst  {{ phone.errors.minlength.requiredLength }} siffror
                </mat-error>
              </mat-error>
            </mat-form-field>

                  <!-- Email -->
                  <mat-form-field class="form-group">
                      <input 
                      matInput 
                      placeholder="Email"
              
                       required
                       minvalue="0" 
                       minlength="5" 
                       maxlength="30" 
                       ngModel 
                       name="eMail" 
                       #eMail="ngModel" 
                       (change)="getEmail(eMail)" 
                       id="eMail" 
                       type="text" 
                       class="form-control">
                      <mat-error
                       *ngIf="eMail.touched && !eMail.valid">
                      <mat-error
                       *ngIf="eMail.errors.minlength">
                        Fyll i email
                      </mat-error>
                    </mat-error>
                  </mat-form-field>
                  
                  <br>
          
             <button mat-mini-fab color="primary" (click)="newContact()" id="contactButton">+</button>

             <mat-list role="list" *ngFor="let contact of customer.contacts; let i = index">
                <mat-list-item role="listitem" class="li">
                    <p id="contactName" class="listElement">{{i+1}}.{{contact.firstname}} {{contact.lastname}}</p>
                    <p id="listPhone" class="listElement">{{contact.phone}}</p>
                    <p id="listEmail" class="listElement">{{contact.eMail}}</p>
                      <button mat-mini-fab color="warn" id="contactDeleteButton" (click)="deleteContact(i)">X</button>
                    <mat-divider></mat-divider>
                  </mat-list-item>
            </mat-list>
    </div>  
  

       <!--RightColumn-->
    <!--Cutoffs-->
<div id="rightColumn">
    <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder="{{customer.cOsweden}}"
         required
         minvalue="0" 
         minlength="4" 
         maxlength="4" 
         ngModel 
         name="cOsv" 
         #cOsv="ngModel" 
         (change)="getSweden(cOsv)" 
         id="cOsv" 
         type="text" 
         class="form-control">
         <mat-hint align="end">Cut off sverige</mat-hint>
        <mat-error
         *ngIf="cOsv.touched && !cOsv.valid">
         Fyll i Cut off för svenska leveranser
        <mat-error
         *ngIf="cOsv.errors.minlength">
          4 siffror. Exempel: 0930 
        </mat-error>
      </mat-error>
    </mat-form-field>

  
    <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder="{{customer.cOabroad}}"

         minvalue="0" 
         minlength="4" 
         maxlength="4" 
         ngModel 
         name="cOab" 
         #cOab="ngModel" 
         (change)="getAbroad(cOab)" 
         id="cOab" 
         type="text" 
         class="form-control">
         <mat-hint align="end">Cut off utomlands</mat-hint>

        <mat-error
         *ngIf="cOab.touched && !cOab.valid">
         Fyll i Cut off för utländska leveranser
        <mat-error
         *ngIf="cOab.errors.minlength">
          4 siffror. Exempel: 0930 
        </mat-error>
      </mat-error>
    </mat-form-field>


    <mat-form-field class="form-group">
        <textarea matInput
                placeholder="Övrigt om cut off"
                name="comments"
                matTextareaAutosize matAutosizeMinRows="2"
                matAutosizeMaxRows="5"
                id="comments"
                ngModel 
                name="comments" 
                #comments="ngModel"
                (change)="getComments(comments)"
                >
                {{cOcomments}}
              </textarea>
      </mat-form-field>


    </div>


    <div id="buttons">
        <button mat-raised-button color="primary" (click)="deleteCustomer()" id="deleteCustomer" >Radera kund</button>
        <button mat-raised-button color="primary" (click)="stepBack()" >Tillbaka</button>
        <button mat-raised-button color="primary" (click)="onSubmit()" id="saveCustomer" >Spara kund</button>

     </div>  


 
</form>  

</div>