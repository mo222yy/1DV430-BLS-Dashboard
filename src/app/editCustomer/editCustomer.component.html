<div id="blueList">
    <p id="blueListHeader">Redigera {{ currentCustomer?.customerName }} </p>
</div>
<div id="newCustomerForm">
  <form #editCustomerForm="ngForm">

    <div id="leftColumn">
    <!-- LeftColumn -->  
    <!-- CustomerName  -->
    
    <mat-form-field class="form-group">
    <input 
     matInput 
     placeholder= {{currentCustomer?.customerName}}
     required
     minlength="3" 
     ngModel
     name="customerName" 
     #CustomerName="ngModel" 
     (change)="updateCustomerName(CustomerName)"
     type="text" 
     class="form-control">

     <mat-error *ngIf="CustomerName.touched && !CustomerName.valid ">
      Fyll i kundnamn
     <mat-error *ngIf="CustomerName.errors.minlength && !CustomerName.valid">
        Ska bestå av minst {{ CustomerName.errors.minlength.requiredLength }} tecken
      </mat-error>

    </mat-error>

  </mat-form-field>

  <!-- CustomerID -->
  <mat-form-field class="form-group">
      <input 
      matInput 
      placeholder= {{currentCustomer?.customerID}}
      required
      (change)="updateCustomerID(customerID)"
       minvalue="0"
       minlength="2" 
       maxlength="3" 
       ngModel 
       name="customerId" 
       #customerID="ngModel" 
       type="text" 
       class="form-control">
      <mat-error *ngIf="customerID.touched && !customerID.valid">
        Fyll i KundID, 2 eller 3 siffror
      </mat-error>
   
  </mat-form-field>
  
  <!-- SECTIONS -->
  <mat-form-field>
    <mat-select 
    required
      placeholder= {{currentCustomer?.section}}
      ngModel
      name="section" 
      #section="ngModel"
      (change)="updateSection(section)"
 
      >
      <mat-option value="Solsidan">Solsidan</mat-option>
      <mat-option value="Dannes">Dannes</mat-option>
      <mat-option value="Bong">Bong</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="form-group">
    <input 
      matInput
      placeholder= {{currentCustomer?.shortname}}
      value=" {{ value }} "
      ngModel 
      name="shortname" 
      #shortname="ngModel" 
      (change)="updateShortname(shortname)"
      >
    </mat-form-field>


  <mat-form-field class="form-group">
    <input 
      matInput
      placeholder= {{currentCustomer?.sop}}
      value=" {{ value }} "
      ngModel 
      name="sop" 
      #sop="ngModel" 
      (change)="updateSop(sop)"
      >
  </mat-form-field>

  <mat-form-field class="form-group">
    <input 
      matInput
      placeholder= {{currentCustomer?.logo}}
      value=" {{ value }}"
      ngModel 
      name="logo" 
      #logo="ngModel" 
      (change)="updateLogo(logo)"

      >
  </mat-form-field>

  </div>



  <!-- MiddleColumn -->  


  <!-- Contacts -->
<div id="middleColumn">
        <!-- FirstName -->
        <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder="Förnamn"

         required
         minvalue="0" 
         minlength="2" 
         maxlength="20" 
         ngModel 
         name="firstname" 
         #contactFirstName="ngModel" 
         type="text" 
         class="form-control"
         (change)="updateFirstname(contactFirstName)"
         >
        <mat-error
         *ngIf="contactFirstName.touched && !contactFirstName.valid">
         Fyll i förnamn
        <mat-error
         *ngIf="contactFirstName.errors.minlength">
         Förnamn ska innehålla minst {{ contactFirstName.errors.minlength.requiredLength }} bokstäver
        </mat-error>
      </mat-error>

    </mat-form-field>

        
            <!-- LastName -->
            <mat-form-field class="form-group">
                <input 
                matInput 
                placeholder="Efternamn"
        
                 required
                 minvalue="0" 
                 minlength="2" 
                 maxlength="20" 
                 ngModel 
                 name="lastname" 
                 #contactLastName="ngModel" 
                 type="text" 
                 class="form-control"
                 (change)="updateLastname(contactLastName)"
                 >
                <mat-error
                 *ngIf="contactLastName.touched && !contactLastName.valid">
                 Fyll i Efternamn
                <mat-error
                 *ngIf="contactLastName.errors.minlength"
                 >
                 Efternamn ska innehålla minst {{ contactLastName.errors.minlength.requiredLength }} bokstäver
                </mat-error>
              </mat-error>
            </mat-form-field>
        
            <!-- Phone -->
            <mat-form-field class="form-group">
                <input 
                matInput 
                placeholder="Telefon"
        
                 required
                 minvalue="0" 
                 minlength="7" 
                 maxlength="12" 
                 ngModel 
                 name="phone" 
                 #phone="ngModel" 
                 type="text" 
                 class="form-control"
                 (change)="updatePhone(phone)"
                 >
                <mat-error
                 *ngIf="phone.touched && !phone.valid">
                <mat-error
                 *ngIf="phone.errors.minlength"
                 >
                 Telefonnumret ska innehålla minst  {{ phone.errors.minlength.requiredLength }} siffror
                </mat-error>
              </mat-error>
            </mat-form-field>

                  <!-- Email -->
                  <mat-form-field class="form-group">
                      <input 
                      matInput 
                      placeholder="Email"
              
                       required
                       minvalue="0" 
                       minlength="5" 
                       maxlength="30" 
                       ngModel 
                       name="email" 
                       #eMail="ngModel"  
                       type="text" 
                       class="form-control"
                       (change)="updateEmail(eMail)"
                       >
                     
                      <mat-error
                       *ngIf="eMail.touched && !eMail.valid">
                      <mat-error
                       *ngIf="eMail.errors.minlength">
                        Fyll i email
                      </mat-error>
                    </mat-error>
                  </mat-form-field>
                  
              
          
             <button mat-mini-fab color="primary" (click)="addContact()" id="contactButton">+</button>

             <mat-list role="list" *ngFor="let contact of contacts; let i = index">
              <mat-list-item role="listitem">
                  <span id="contactNumber" class="listElement">{{i+1}}. </span>
                  <span id="listFirstname" class="listElement">{{contact.firstname}}</span>
                  <span id="listLastname" class="listElement">{{contact.lastname}}</span>
                  <span id="listPhone" class="listElement">{{contact.phone}}</span>
                  <span id="listEmail" class="listElement">{{contact.eMail}}</span>
                  <button mat-mini-fab color="primary"(click)="deleteContact(i)" id="contactDeleteButton">X</button>
                </mat-list-item>
          </mat-list>

    </div>  
  

       <!--RightColumn-->
    <!--Cutoffs-->
<div id="rightColumn">
    <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder= {{currentCustomer?.cosv}}
         required
         minvalue="0" 
         minlength="4" 
         maxlength="4" 
         ngModel 
         name="cosv" 
         #cOsv="ngModel" 
         (change)="updateCosv(cOsv)" 
         type="text" 
         class="form-control">
         <mat-hint align="end">Cut off sverige</mat-hint>
        <mat-error
         *ngIf="cOsv.touched && !cOsv.valid">
         Fyll i Cut off för svenska leveranser
        <mat-error
         *ngIf="cOsv.errors.minlength">
          4 siffror. Exempel: 0930 
        </mat-error>
      </mat-error>
    </mat-form-field>

  
    <mat-form-field class="form-group">
        <input 
        matInput 
        placeholder= {{currentCustomer?.coab}}

         minvalue="0" 
         minlength="4" 
         maxlength="4" 
         ngModel 
         name="coab" 
         #cOab="ngModel" 
         type="text" 
         class="form-control"
         (change)="updateCoab(cOab)" 
         >
         <mat-hint align="end">Cut off utomlands</mat-hint>

        <mat-error
         *ngIf="cOab.touched && !cOab.valid">
         Fyll i Cut off för utländska leveranser
        <mat-error
         *ngIf="cOab.errors.minlength">
          4 siffror. Exempel: 0930 
        </mat-error>
      </mat-error>
    </mat-form-field>


    <mat-form-field class="form-group">
        <textarea matInput
                placeholder= {{currentCustomer?.comments}}
                name="comments"
                matTextareaAutosize matAutosizeMinRows="2"
                matAutosizeMaxRows="5"
                ngModel 
                name="comments" 
                #comments="ngModel"
                (change)="updateComments(comments)" 

                >
              </textarea>
      </mat-form-field>


    </div>


    <div id="buttons">
        <button mat-raised-button color="primary" (click)="deleteCustomer()" id="deleteCustomer" >Radera kund</button>
        <button mat-raised-button color="primary" (click)="stepBack()" >Tillbaka</button>
        <button mat-raised-button color="primary" (click)="updateCustomer(editCustomerForm.value)" id="saveCustomer" >Spara kund</button>
     </div>  


 
</form>  

</div>